"use strict";(self["webpackChunkvue_cli01"]=self["webpackChunkvue_cli01"]||[]).push([[305],{3305:function(t,e,o){o.r(e),o.d(e,{default:function(){return d}});var s=o(3396),c=o(9242);const u={class:"flex container justify-start mx-auto items-center"},i={class:"text-xl mx-2"},n=(0,s.Uk)("回到前台"),r={class:"text-xl mx-2"},h=(0,s.Uk)("後台產品列表");function a(t,e,o,a,l,p){const k=(0,s.up)("router-link"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",u,[(0,s._)("div",i,[(0,s.Wm)(k,{to:"/"},{default:(0,s.w5)((()=>[n])),_:1})]),(0,s._)("div",r,[(0,s.Wm)(k,{to:"/admin/product"},{default:(0,s.w5)((()=>[h])),_:1})]),(0,s._)("a",{href:"#",class:"text-xl mx-2",onClick:e[0]||(e[0]=(0,c.iM)(((...t)=>p.logout&&p.logout(...t)),["prevent"]))},"登出")]),l.checkSuccess?((0,s.wg)(),(0,s.j4)(d,{key:0})):(0,s.kq)("",!0)],64)}var l={name:"DashBoard",data(){return{checkSuccess:!1}},methods:{checkLogin(){this.$http.post("https://vue3-course-api.hexschool.io/v2/api/user/check").then((()=>{this.checkSuccess=!0})).catch((t=>{t&&(alert("您尚未登入"),this.$router.push("/login"))}))},logout(){this.$http.post("https://vue3-course-api.hexschool.io/v2/logout").then((t=>{document.cookie="hextoken=;expires=;",alert(t.data.message),this.$router.push("/login")}))}},mounted(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)hextoken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,t?this.checkLogin():(alert("您尚未登入"),this.$router.push("/login"))}},p=o(89);const k=(0,p.Z)(l,[["render",a]]);var d=k}}]);
//# sourceMappingURL=305.915fbdd2.js.map